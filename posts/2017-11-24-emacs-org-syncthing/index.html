<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Taking notes is a part of my life and work: jot down ideas, manage tasks and track personal projects. But soon came a problem, what tool is best for supporting this simple task.
There are 3 must-have features I searched for:
Markdown (or relevant) editor
Auto-sync between machines
Less but not least, affordable price
Searching journey As for me, todo note or shopping list is too trivial. And editing markdown on smart phone sucks and inconvenient."><title>Emacs + Org-mode + Syncthing = Perfect combo
</title><link rel="shortcut icon" type=image/x-icon href=/><link rel=stylesheet href=/css/main.c5af9bae99b4a3d315b9f39305ffff27e9c3383fbbfd8b5fcaf2237667021a333a982fb958d1813a720b0a660b14022337553ae1ca93ef2ee17c4ae628ac19cb.css integrity="sha512-xa+brpm0o9MVufOTBf//J+nDOD+7/YtfyvIjdmcCGjM6mC+5WNGBOnILCmYLFAIjN1U64cqT7y7hfErmKKwZyw=="></head><body a=light><main class=page-content aria-label=Content><div class=w><a href=/>~/</a><article><p class=post-meta><time datetime="2017-11-24 00:00:00 +0000 UTC">Feburary 11, 2017</time></p><h1>Emacs + Org-mode + Syncthing = Perfect combo</h1><p>Taking notes is a part of my life and work: jot down ideas, manage tasks and track personal projects.
But soon came a problem, what tool is best for supporting this simple task.</p><p>There are 3 must-have features I searched for:</p><ul><li><p>Markdown (or relevant) editor</p></li><li><p>Auto-sync between machines</p></li><li><p>Less but not least, affordable price</p></li></ul><h2 id=searching-journey>Searching journey</h2><p>As for me, todo note or shopping list is too trivial. And editing markdown on smart phone sucks and inconvenient. So I just focus on PC and laptop station here.</p><p>I found <a href=https://boostnote.io/>Boostnote</a> first. Free as it&rsquo;s a FOSS (Free and Open Source Software). But this fancy editor is (as expected) built on <a href=https://electronjs.org/>Electron</a>, a RAM-hungry framework. No built-in sync feature, but enabled through third party like Google Drive or Dropbox.</p><p>Since I didn&rsquo;t like the roundabout syncing, so <a href=https://www.inkdrop.info/>Inkdrop</a> is my second stop. Also built on Electron, but came with built-in sync service through <a href=https://couchdb.apache.org/>CouchDB</a>, and charge you less than $5 per month. This was pretty suitable for me, and I felt comfortable in 2-month trial. The creator also wrote a <a href=https://blog.inkdrop.info/how-i-built-a-markdown-editor-earning-1300-mo-profit-inkdrop-ddf6ad702c42>post</a> about process of building his product, which is very interesting to know about.</p><p>But I don&rsquo;t really like the idea of a RAM-killer app for just a simple task like saving texts. There should be another ways for rubbing my itch.</p><h2 id=the-unicorn-came-to-the-rescue>The unicorn came to the rescue</h2><p>Vim was my main editor, until I knew about <a href=http://orgmode.org/>Org-mode</a>, which is only fully available on Emacs.</p><p><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Org-mode-unicorn.svg/1200px-Org-mode-unicorn.svg.png alt=org-mode></p><p>Vim was good, but I&rsquo;m somewhat not in the mood of learning Vimscript for long-term scaling my <code>.vimrc</code>. In contrast, I love Lisp - the good old legend survived through time.
So <code>Emacs Lisp</code> + <code>Org-mode</code> are 2-main reasons made me make a switch to a new life-long partner: Emacs.</p><p>So after grabbing the basics and setting a somewhat decent <code>.emacs.d</code>, fully integrating Org-mode, life is damn good.</p><p><img src=/org/org.png alt=demo></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lisp data-lang=lisp><span style=display:flex><span><span style=color:#75715e>;; [...]</span>
</span></span><span style=display:flex><span><span style=color:#75715e>;; simple setup</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(require-package <span style=color:#e6db74>&#39;org</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(add-hook <span style=color:#e6db74>&#39;org-mode-hook</span> <span style=color:#e6db74>&#39;turn-on-font-lock</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(global-set-key <span style=color:#e6db74>&#34;\C-cl&#34;</span> <span style=color:#e6db74>&#39;org-store-link</span>)
</span></span><span style=display:flex><span>(global-set-key <span style=color:#e6db74>&#34;\C-ca&#34;</span> <span style=color:#e6db74>&#39;org-agenda</span>)
</span></span><span style=display:flex><span>(global-set-key <span style=color:#e6db74>&#34;\C-cc&#34;</span> <span style=color:#e6db74>&#39;org-capture</span>)
</span></span><span style=display:flex><span>(global-set-key <span style=color:#e6db74>&#34;\C-cb&#34;</span> <span style=color:#e6db74>&#39;org-iswitchb</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>setq</span> org-log-done <span style=color:#e6db74>&#39;time</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>;; Turn off auto-fold</span>
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>setq</span> org-startup-folded <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>;; [...]</span>
</span></span></code></pre></div><p>My dotfiles&rsquo;s <a href=https://github.com/hiepph/dotfiles/tree/master/emacs/.emacs.d>.emacs.d</a> for your information. And a good setup <a href=http://manenko.com/2016/08/03/setup-emacs-for-rust-development.html>guide</a> for Emacs in my opinion.</p><blockquote><p>Org mode is for keeping notes, maintaining TODO lists, planning projects, and authoring documents with a fast and effective plain-text system.</p><ul><li><a href=http://orgmode.org/>org-mode</a></li></ul></blockquote><p>Talk is cheap, actually use this with powerful key combination really broads my horizon. For example:</p><ul><li>Add a TODO list with <code>M-shift-RET</code></li></ul><p><img src=/org/todo.png alt=todo></p><ul><li>Mark as completed with a single combination <code>C-c C-t</code>.</li></ul><p><img src=/org/todo_complete.png alt=todo_complete></p><p>Besides, learning Org syntax is not so hard, from a perspective of a Markdown fan-boy like me.</p><h2 id=syncthing---the-lost-ingredient-to-perfect-combo>Syncthing - the lost ingredient to perfect combo</h2><p><img src="https://vignette.wikia.nocookie.net/streetfighter/images/1/1c/Kens_kick_combo.gif/revision/latest?cb=20100605074359" alt=combo></p><p>So Emacs + Org-mode is totally free, check. Wonderful Markdown/Org editor, check. It occurred to me that I knew about <a href=https://syncthing.net/>Syncthing</a> in a Golang blog post:</p><blockquote><p>Syncthing is an open-source cross platform peer-to-peer continuous file synchronization application.</p><ul><li><a href=https://blog.golang.org/8years>Eight years of Go</a></li></ul></blockquote><p>Basically, Syncthing decentralizes your shared data to all connected nodes identified with cryptographic certificates.</p><p>I need at least a live node for no-downtime syncing (a central hub). A low cost private cloud server is a good choice, but in my case I used my 99.99% uptime Raspberry Pi 3 (which mainly ran <a href=https://pi-hole.net/>Pi-hole</a> for my home).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Add GPG key</span>
</span></span><span style=display:flex><span>wget -O - https://syncthing.net/release-key.txt | sudo apt-key add -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add repository</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;deb http://apt.syncthing.net/ syncthing release&#34;</span> | sudo tee -a /etc/apt/sources.list.d/syncthing-release.list
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Update and install</span>
</span></span><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install syncthing -y
</span></span></code></pre></div><p>Re-bind configuration from local loopback <code>127.0.0.1</code> to <code>0.0.0.0</code> (<code>/home/pi/.config/syncthing/config.xml</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;gui</span> <span style=color:#a6e22e>enabled=</span><span style=color:#e6db74>&#34;true&#34;</span> <span style=color:#a6e22e>tls=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>&lt;address&gt;</span>0.0.0.0:8384<span style=color:#f92672>&lt;/address&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>&lt;apikey&gt;</span>...<span style=color:#f92672>&lt;/apikey&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/gui&gt;</span>
</span></span></code></pre></div><p>This will enable you to access <code>http://&lt;pi's IP>:8384</code> Web Interface of Syncthing.</p><p>Finally just start <code>syncthing</code> service:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo systemctl start syncthing@pi.service
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># auto start at start-up</span>
</span></span><span style=display:flex><span>sudo systemctl enable syncthing@pi.service
</span></span></code></pre></div><p>Access <code>http://&lt;pi's IP>:8384</code>:</p><p><img src=/org/syncthing.png alt=syncthing></p><p>Here you can see I shared my <code>/home/pi/org</code> directory which contains all my <code>.org</code> notes to 2 nodes: online <code>dell</code> + offline <code>thinkpad</code>.</p><p>Now if I make a change from my <code>/home/dell/org</code>, it will syncs back to <code>/home/pi/org</code>. And when my <code>thinkpad</code> goes online, <code>/home/thinkpad/org</code> auto updates all its notes, too!</p><p>Et Voilà! Work like a charm. Plus, both Emacs and Syncthing use just a little of RAM and CPU resource.</p><h2 id=conclusion>Conclusion</h2><p><a href=https://www.inkdrop.info/>Inkdrop</a> solo, (Vim + Git) traditional way, or (Emacs + Org-mode + Syncthing) combo with hands-free syncing? Use the right tool for the job, and pick what suits you the best.</p><p>For now, Emacs is my everyday editor, including programming stuff and note-taking. Long live (Emacs) Lisp.</p></article></div></main></body></html>